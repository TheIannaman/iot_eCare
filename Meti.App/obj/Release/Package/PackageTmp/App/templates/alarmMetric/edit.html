<form name="alarmMetricEditForm" novalidate autocomplete="off">
    <div class="modal-content">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true" ng-click="cancel()"></button>
            <h4 class="modal-title" ng-bind="title"></h4>
        </div>

        <div class="modal-body">
            <div class="note note-info note-bordered">
                <p>{{::$root.validationMessages.fieldsStarRequired}}</p>
            </div>
            <div class="row">
                <div class="col-md-12">
                    <label class="label-sm">Metrica*</label>
                    <input type="text"
                           name="metrica"
                           class="form-control input-sm"
                           ng-model="alarmMetricModel.metric"
                           required
                           ng-maxlength="255">
                    <div ng-show="alarmMetricEditForm.$submitted || alarmMetricEditForm.metrica.$dirty">
                        <div ng-show="alarmMetricEditForm.metrica.$error.required" class="text-invalid">
                            {{::$root.validationMessages.required}}
                        </div>
                        <div ng-show="alarmMetricEditForm.metrica.$error.maxlength" class="text-invalid">
                            {{::$root.validationMessages.maxLength}} 255
                        </div>
                    </div>
                </div>

                <div class="col-md-12">
                    <label class="label-sm">Soglia minima</label>
                    <input type="number"
                           name="sogliaMinima"
                           class="form-control input-sm"
                           ng-model="alarmMetricModel.thresholdMin">
                </div>

                <div class="col-md-12">
                    <label class="label-sm">Soglia massima</label>
                    <input type="number"
                           name="sogliaMassima"
                           class="form-control input-sm"
                           ng-model="alarmMetricModel.thresholdMax">
                </div>

                <div class="col-md-12" ng-show="showDevices">
                    <label>Dispositivo*</label>
                    <!--<select class="form-control input-sm"
                            name="dispositivo"
                            ng-model="alarmMetricModel.device"
                            ng-options="item as item.comboText for item in deviceList track by item.id">
                        <option value=""> - </option>
                    </select>-->
                    <select kendo-combo-box
                            k-placeholder="'Seleziona un dispositivo..'"
                            k-data-text-field="'comboText'"
                            k-data-value-field="'id'"
                            k-filter="'contains'"
                            k-auto-bind="true"
                            k-data-source="deviceList"
                            k-ng-model="alarmMetricModel.device"
                            style="width: 100%"></select>
                    <div ng-show="alarmMetricEditForm.$submitted || alarmMetricEditForm.dispositivo.$dirty">
                        <div ng-show="alarmMetricEditForm.dispositivo.$error.required" class="text-invalid">
                            {{::$root.validationMessages.required}}
                        </div>
                    </div>
                </div>
            </div>

            <br />
        </div>

        <div class="modal-footer">
            <button type="button" data-dismiss="modal" class="btn default" ng-click="cancel()">Annulla</button>
            <button type="submit" data-dismiss="modal" class="btn green" ng-click="save()">Salva</button>
        </div>
    </div>
</form>